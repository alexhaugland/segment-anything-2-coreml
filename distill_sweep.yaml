program: distill_moat_hiera.py
method: bayes
metric:
  name: loss
  goal: minimize
early_terminate:
  type: hyperband
  min_iter: 3
  max_iter: 15
  eta: 3
parameters:
  epochs:
    values: [5, 10, 15]
  batch_size:
    values: [2, 4, 8]
  lr:
    distribution: log_uniform_values
    min: 1e-5
    max: 1e-3
  base_arch:
    values: ["tiny-moat-2"]
  attention_mode:
    values: ["global", "local"]
  split_head:
    values: [true, false]
  output_stride:
    values: [16, 32]
  num_blocks:
    values: [[2, 2, 2, 2], [3, 3, 3, 3], [4, 4, 4, 4]]
  mbconv_block_expand_ratio:
    values: [3, 4, 5]
  moat_block_expand_ratio:
    values: [3, 4, 5]
  optimizer:
    values: ['adam', 'adamw', 'sgd']
  weight_decay:
    distribution: log_uniform_values
    min: 1e-5
    max: 1e-2
command:
  - ${env}
  - ${interpreter}
  - ${program}